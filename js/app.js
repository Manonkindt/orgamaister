!function e(t,n,i){function s(a,r){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return s(n?n:e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s,o=t.helperMissing,a="function",r=this.escapeExpression;return"<h2>"+r((s=null!=(s=t.box_name||(null!=e?e.box_name:e))?s:o,typeof s===a?s.call(e,{name:"box_name",hash:{},data:i}):s))+": "+r((s=null!=(s=t.project_name||(null!=e?e.project_name:e))?s:o,typeof s===a?s.call(e,{name:"project_name",hash:{},data:i}):s))+" - "+r((s=null!=(s=t.tag||(null!=e?e.tag:e))?s:o,typeof s===a?s.call(e,{name:"tag",hash:{},data:i}):s))+" </h2>\n<p>"+r((s=null!=(s=t.tag||(null!=e?e.tag:e))?s:o,typeof s===a?s.call(e,{name:"tag",hash:{},data:i}):s))+'</p>\n<a href="" class="gone"><img src="assets/close.svg" alt=""/></a>\n\n\n'},useData:!0})},{"hbsfy/runtime":33}],2:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="header white">\n    <aside>\n        <a href="#" class="list"><img src="assets/list.svg" alt=""/></a>\n    </aside>\n    <header>\n        <img class="lamp" src="assets/lamp_white.svg" alt=""/>\n    </header>\n     <aside>\n        <a href="#" class="addButton"><img src="assets/plus.svg" alt=""/></a>\n    </aside>\n    <header>\n        <h1><div></div>ORGAMAISTER<div></div></h1>\n    </header>\n</div>\n\n<form class="white form">\n   <input type="text" name="filter" placeholder="..." class="filter"/>\n</form>\n\n\n<table class="boxes">\n\n    <tbody class="box">\n    </tbody>\n\n    <tbody class="tag" data-wow-delay="1s">\n    </tbody>\n\n     <tbody class="project">\n    </tbody>\n\n</table>'},useData:!0})},{"hbsfy/runtime":33}],3:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="header">\n   \n     <aside>\n        <a href="#" class="addButton"><img src="" alt=""/></a>\n    </aside>\n    <header>\n        <h1 class="home"><div></div>ORGAMAISTER<div></div></h1>\n    </header>\n    <aside>\n        <a href="#" class="home"><img src="assets/Maister_logo_green.svg" alt=""/></a>\n    </aside>\n</div>\n\n\n<div class="optionHeader"> \n  <h1>Customers</h1>\n  <hr>\n</div>\n\n<form class="white form">\n   <input type="text" name="filter" placeholder="..." class="filter"/>\n</form>\n\n<table class="list boxes">\n    <tbody class="box"></tbody>\n\n</table>\n'},useData:!0})},{"hbsfy/runtime":33}],4:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="header">\n   \n     <aside>\n        <a href="#" class="addButton"><img src="" alt=""/></a>\n    </aside>\n    <header>\n        <h1 class="home"><div></div>ORGAMAISTER<div></div></h1>\n    </header>\n    <aside>\n        <a href="#" class="home"><img src="assets/Maister_logo_green.svg" alt=""/></a>\n    </aside>\n</div>\n\n<form>\n    <h2>Voeg een doos toe</h2>\n    <input type="text" name="name" class="name" value="" placeholder="..."/>\n    <input type="submit" value="klaar" class="add"/>\n</form>\n\n<img class="scroll_down" src="assets/arrow_down.svg" alt="scroll down"/>\n\n<div class="optionHeader"> \n  <h1>Bestaande dozen</h1>\n  <hr>\n</div>\n\n<table class="boxes">\n    <tbody class="box"></tbody>\n\n</table>\n'},useData:!0})},{"hbsfy/runtime":33}],5:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s,o=t.helperMissing,a="function",r=this.escapeExpression;return'<div class="header">\n    <aside>\n        <a href="" class="delete"><img src="assets/close.svg" alt=""/></a>\n    </aside>\n    <header>\n        <h1 class="home"><div></div>ORGAMAISTER<div></div></h1>\n    </header>\n    <aside>\n        <a href="#" class="gotomybox"><img src="assets/Maister_logo_green.svg" alt=""/></a>\n    </aside>\n</div>\n\n<form action="" method="post" class="addtags" id="addtags">\n    <h2>Voeg tags toe aan <span>'+r((s=null!=(s=t.name||(null!=e?e.name:e))?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:i}):s))+'</span></h2>\n\n	<ul class="inputwrap">\n        <div class="taglist"></div>\n		<li class="item input">\n			<input type="text" name="text" class="name text" value="" autofocus="autofocus" placeholder="..." />\n		</li>\n	</ul>\n    <input type="submit" value="klaar" class="add addproject"/>\n</form>\n\n<img class="scroll_down" src="assets/arrow_down.svg" alt="scroll down"/>\n\n<section class="tags">\n\n    <div class="optionHeader">\n        <h1>'+r((s=null!=(s=t.name||(null!=e?e.name:e))?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:i}):s))+' tags uit <a href="#addtags" class="gotomybox"><span>'+r((s=null!=(s=t.box_name||(null!=e?e.box_name:e))?s:o,typeof s===a?s.call(e,{name:"box_name",hash:{},data:i}):s))+'</span></a></h1>\n        <hr>\n    </div>\n\n	<ul class="tagresults" >\n\n	</ul>\n\n</section>'},useData:!0})},{"hbsfy/runtime":33}],6:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s,o=t.helperMissing,a="function",r=this.escapeExpression;return'<a href="#" class="detail">\n	<h2>'+r((s=null!=(s=t.box_name||(null!=e?e.box_name:e))?s:o,typeof s===a?s.call(e,{name:"box_name",hash:{},data:i}):s))+"</h2>\n	<h3>"+r((s=null!=(s=t.name||(null!=e?e.name:e))?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:i}):s))+"</h3>\n	<p>"+r((s=null!=(s=t.tags_list||(null!=e?e.tags_list:e))?s:o,typeof s===a?s.call(e,{name:"tags_list",hash:{},data:i}):s))+'</p>\n</a>\n\n<a href="#" class="tagdetail">\n	<h2>'+r((s=null!=(s=t.name||(null!=e?e.name:e))?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:i}):s))+'</h2>\n	<h3>\n		tags\n		<img src="assets/arrow_green.svg" alt=""/>\n	</h3>\n</a>\n\n<a href="#" class="listdetail">\n	<h2>'+r((s=null!=(s=t.name||(null!=e?e.name:e))?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:i}):s))+"</h2>\n	<p><span>Tags: </span> "+r((s=null!=(s=t.tags_list||(null!=e?e.tags_list:e))?s:o,typeof s===a?s.call(e,{name:"tags_list",hash:{},data:i}):s))+"</p>\n</a>\n"},useData:!0})},{"hbsfy/runtime":33}],7:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s;return'<div class="header">\n    <aside>\n        <a href="" class="delete"><img src="assets/close.svg" alt=""/></a>\n    </aside>\n    <header>\n        <h1 class="home"><div></div>ORGAMAISTER<div></div></h1>\n    </header>\n     <aside>\n        <a href="#" class="home"><img src="assets/Maister_logo_green.svg" alt=""/></a>\n    </aside>\n</div>\n\n<form>\n    <h2>Voeg project toe in <span>'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"name",hash:{},data:i}):s))+'</span></h2>\n   <input type="text" name="text" class="name textproject" value="" placeholder="..." autofocus="autofocus"/>\n    <input type="submit" value="klaar" class="add addproject"/>\n</form>\n\n<img class="scroll_down" src="assets/arrow_down.svg" alt="scroll down"/>\n\n<section class="feedback">\n\n\n    <div class="optionHeader">\n        <h1>Projecten</h1>\n        <hr>\n    </div>\n\n	<ul class="results" >\n		\n	</ul>\n</section>'},useData:!0})},{"hbsfy/runtime":33}],8:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var s;return'<a href="#" class="detail">\n	<h2>'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{name:"name",hash:{},data:i}):s))+'</h2>\n	<h3>\n		projecten \n		<img src="assets/arrow_black.svg" alt=""/>\n	</h3>\n</a>'},useData:!0})},{"hbsfy/runtime":33}],9:[function(e){function t(){$.getJSON("settings.php").done(function(t){window.settings=t;var n=e("./classes/routers/Application.js");Window.Application=new n,Backbone.history.start()})}fallback.load({jQuery:["//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js","js/vendor/jquery.min.js"],"$.fn.modal":["//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js","js/vendor/bootstrap.min.js"]},{shim:{"$.fn.modal":["jQuery"],lazy:["jQuery"],extra:["jQuery"]}}),fallback.ready(function(){});e("hbsfy/runtime");t()},{"./classes/routers/Application.js":16,"hbsfy/runtime":33}],10:[function(e,t){var n=e("../models/Box.js"),i=Backbone.Collection.extend({model:n,url:window.settings.httpRoot+"api/boxes"});t.exports=i},{"../models/Box.js":13}],11:[function(e,t){var n=e("../models/Project.js"),i=Backbone.Collection.extend({model:n,url:window.settings.httpRoot+"api/projects",initialize:function(e){e&&(this.box_id=e.box_id)},filterTags:function(e){return pattern=new RegExp("(?=.*"+e.replace(/ +/g,")(?=.*")+").*","g"),this.filter(function(e){return pattern.test(e.get("tags_list").toLowerCase())})},filterByClient:function(e){return pattern=new RegExp("(?=.*"+e.replace(/ +/g,")(?=.*")+").*","g"),this.filter(function(e){return pattern.test(e.get("name").toLowerCase())})},methodUrl:function(e){return"read"===e&&this.box_id?void(this.url=window.settings.httpRoot+"api/projects/boxes/"+this.box_id):void(this.url=window.settings.httpRoot+"api/projects/")},sync:function(e,t,n){t.methodUrl&&t.methodUrl(e.toLowerCase())&&(n=n||{},n.url=t.methodUrl(e.toLowerCase())),Backbone.Collection.prototype.sync.apply(this,arguments)}});t.exports=i},{"../models/Project.js":14}],12:[function(e,t){var n=e("../models/Tag.js"),i=Backbone.Collection.extend({model:n,url:window.settings.httpRoot+"api/tags",initialize:function(e){e&&(this.id=e.project_id)},array:[],"boolean":!1,filterTags:function(e){return pattern=new RegExp("(?=.*"+e.replace(/ +/g,")(?=.*")+").*","g"),this.filter(function(e){return pattern.test(e.get("tags_list"))})},methodUrl:function(e){return"read"===e&&this.id?void(this.url=window.settings.httpRoot+"api/tags/projects/"+this.id):void(this.url=window.settings.httpRoot+"api/tags/")},sync:function(e,t,n){t.methodUrl&&t.methodUrl(e.toLowerCase())&&(n=n||{},n.url=t.methodUrl(e.toLowerCase())),Backbone.Collection.prototype.sync.apply(this,arguments)}});t.exports=i},{"../models/Tag.js":15}],13:[function(e,t){var n=Backbone.Model.extend({defaults:{name:""},urlRoot:window.settings.httpRoot+"api/boxes"});t.exports=n},{}],14:[function(e,t){var n=Backbone.Model.extend({defaults:{box_id:null,name:"",box_name:"",tags_list:""},urlRoot:window.settings.httpRoot+"api/projects"});t.exports=n},{}],15:[function(e,t){var n=Backbone.Model.extend({defaults:{box_name:"box name",tag:"no feedback",project_name:"",project_id:null,box_id:null},urlRoot:window.settings.httpRoot+"api/tags"});t.exports=n},{}],16:[function(e,t){var n=e("../views/OverviewView.js"),i=e("../views/BoxDetailView.js"),s=e("../views/ProjectDetailView.js"),o=e("../views/IntroView.js"),a=e("../views/ListView.js"),r=($(window).scrollTop(),Backbone.Router.extend({routes:{overview:"overview",intro:"intro",list:"list","boxes/:id":"boxes","projects/:id":"projects","*actions":"default"},empty:function(){$(".container").empty()},"default":function(){this.navigate("intro",{trigger:!0})},list:function(){this.empty(),this.list=new a,$(".container").append(this.list.render().el)},overview:function(){this.empty(),this.overview=new n,$(".container").append(this.overview.render().el),$(".container").scroll(function(){console.log("checkScroll");var e=$(".container").scrollTop();console.log(this.topPos,e),this.topPos>e?console.log("scroll up"):(console.log("scroll down"),$(".scroll_down").addClass("hidden")),this.topPos=e,0==e&&$(".scroll_down").removeClass("hidden")})},intro:function(){this.empty(),this.intro=new o,$(".container").append(this.intro.render().el)},boxes:function(e){this.empty(),this.box=new i({id:e}),$(".container").append(this.box.render().el),$(".container").scroll(function(){console.log("checkScroll");var e=$(".container").scrollTop();console.log(this.topPos,e),this.topPos>e?console.log("scroll up"):(console.log("scroll down"),$(".scroll_down").addClass("hidden")),this.topPos=e,0==e&&$(".scroll_down").removeClass("hidden")})},projects:function(e){this.empty(),this.project=new s({id:e}),$(".container").append(this.project.render().el),$(".container").scroll(function(){console.log("checkScroll");var e=$(".container").scrollTop();console.log(this.topPos,e),this.topPos>e?console.log("scroll up"):(console.log("scroll down"),$(".scroll_down").addClass("hidden")),this.topPos=e,0==e&&$(".scroll_down").removeClass("hidden")})}}));t.exports=r},{"../views/BoxDetailView.js":17,"../views/IntroView.js":19,"../views/ListView.js":20,"../views/OverviewView.js":21,"../views/ProjectDetailView.js":22}],17:[function(e,t){var n=e("../../../_hbs/student_detail.hbs"),i=e("../models/Box.js"),s=e("../collections/TagCollection.js"),o=e("../collections/ProjectCollection.js"),a=e("../views/TagItemView.js"),r=e("../views/ProjectItemView.js"),l=Backbone.View.extend({template:n,tagName:"section",className:"dozen",events:{"click .delete":"clickDelete","click .addproject":"clickAddproject","click .home":"goHome"},array:[],booleancheck:!1,goHome:function(){Window.Application.navigate("intro",{trigger:!0}),location.reload()},clickAddproject:function(e){if(e.preventDefault(),""!==this.$el.find(".textproject").val()){var t=this.project;this.project.create({name:this.$el.find(".textproject").val(),box_id:this.model.get("id"),box_name:this.model.get("name"),tags_list:this.$el.find(".textproject").val()},{success:function(){var e=t.models[t.models.length-1];$.map(e.attributes,function(e,t){});var n=t.models[t.models.length-1].id;Window.Application.navigate("projects/"+n,{trigger:!0})}}),this.$el.find(".textproject").val("")}},clickDelete:function(e){e.preventDefault(),document.getElementById("popup").className="";var t=document.getElementById("popup"),n=this.model;t.getElementsByClassName("go")[0].addEventListener("click",function(e){e.preventDefault(),n.destroy(),$.ajax({type:"DELETE",url:window.settings.httpRoot+"api/projects/box/"+n.get("id"),success:function(e){}}),$.ajax({type:"DELETE",url:window.settings.httpRoot+"api/tags/box/"+n.get("id"),success:function(e){}}),document.getElementById("popup").className="hidden",location.reload()}),t.getElementsByClassName("no")[0].addEventListener("click",function(e){e.preventDefault(),document.getElementById("popup").className="hidden"})},initialize:function(e){e&&e.id&&(this.model=new i,this.model.on("destroy",function(){Window.Application.navigate("overview",{trigger:!0})}),this.model.set("id",e.id),this.model.fetch({success:function(e,t){0===t.length&&Window.Application.navigate("overview",{trigger:!0})}}),this.listenTo(this.model,"sync",this.render),this.tag=new s({box_id:e.id}),this.tag.on("sync",this.renderAllTags,this),this.project=new o({box_id:e.id}),this.project.on("sync",this.renderAllProjects,this))},renderAllTags:function(){this.$tag.empty(),this.tag.forEach(this.renderTag,this)},renderTag:function(e){this.$tag.append(new a({model:e}).render().el)},renderAllProjects:function(){this.$project.empty(),this.project.forEach(this.renderProject,this)},renderProject:function(e){this.$project.append(new r({model:e}).render().el)},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$tag=this.$el.find(".tagresults"),this.$project=this.$el.find(".results"),this.tag.fetch(),this.project.fetch(),this}},{levenshtein_distance_a:function(e,t){if(0==e.length)return t.length;if(0==t.length)return e.length;var n,i=[];for(n=0;n<=t.length;n++)i[n]=[n];var s;for(s=0;s<=e.length;s++)i[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)i[n][s]=t.charAt(n-1)==e.charAt(s-1)?i[n-1][s-1]:Math.min(i[n-1][s-1]+1,Math.min(i[n][s-1]+1,i[n-1][s]+1));return i[t.length][e.length]}});t.exports=l},{"../../../_hbs/student_detail.hbs":7,"../collections/ProjectCollection.js":11,"../collections/TagCollection.js":12,"../models/Box.js":13,"../views/ProjectItemView.js":23,"../views/TagItemView.js":24}],18:[function(e,t){var n=e("../../../_hbs/student_item.hbs"),i=Backbone.View.extend({template:n,tagName:"li",events:{"change .name":"changeScore","click .detail":"clickDetail"},initialize:function(){this.listenTo(this.model,"destroy",this.remove)},clickDetail:function(e){e.preventDefault(),Window.Application.navigate("boxes/"+this.model.get("id"),{trigger:!0})},changeScore:function(e){e.preventDefault(),this.model.set("name",this.$el.find(".name").val()),this.model.save()},render:function(){return this.$el.html(this.template(this.model.attributes)),this}});t.exports=i},{"../../../_hbs/student_item.hbs":8}],19:[function(e,t){var n=e("../collections/BoxCollection.js"),i=(e("../collections/TagCollection.js"),e("../collections/ProjectCollection.js")),s=e("./BoxItemView.js"),o=e("./ProjectItemView.js"),a=e("../../../_hbs/introview.hbs"),r=Backbone.View.extend({template:a,tagName:"div",className:"intro",events:{"click .addButton":"clickAdd","input .filter":"inputFilter","click .list":"gotolist"},array:[],gotolist:function(e){e.preventDefault(),Window.Application.navigate("list",{trigger:!0})},inputFilter:function(e){e.preventDefault();var t=$(e.currentTarget).val().toLowerCase();if(""!==t){this.$el.find(".addbox").hide(),this.$el.find(".box").hide(),this.$el.find(".tag").show(),document.body.style.background="rgba(255,255,255,1)",this.$el.find(".lamp").css("width","20%"),this.$el.find(".lamp").css("margin-top","-167px");{t.split(" ")}this.renderFilteredTags(this.projectcollection.filterTags(t))}else this.$el.find(".lamp").css("width","40%"),this.$el.find(".lamp").css("margin-top","-365px"),this.$el.find(".addbox").show(),this.$el.find(".tag").hide(),this.array=[],this.projectcollection.fetch()},clickAdd:function(e){e.preventDefault(),Window.Application.navigate("overview",{trigger:!0})},initialize:function(){this.collection=new n,this.listenTo(this.collection,"sync",this.renderStudents),this.collection.fetch(),this.projectcollection=new i,this.listenTo(this.projectcollection,"sync",this.renderTags),this.projectcollection.fetch(),$(window).scroll(this.detect_scroll)},onlyUnique:function(e,t,n){return n.indexOf(e)===t},detect_scroll:function(){console.log("detected")},renderStudents:function(){this.$students.empty(),this.collection.forEach(this.renderStudent,this)},renderFilteredStudents:function(e){this.array.push(e[0].attributes.name);for(var t=0;t<this.array.length;t++){this.$students.empty();{this.array[t].filter(this.onlyUnique)}}},renderStudent:function(e){var t=new s({model:e});this.$students.append(t.render().el)},renderTags:function(){this.$tags.empty(),this.projectcollection.forEach(this.renderTag,this)},renderFilteredTags:function(e){for(var t=0;t<e.length;t++){e[t].attributes.box_name}this.$tags.empty(),e.forEach(this.renderTag,this)},renderTag:function(e){var t=new o({model:e});this.$tags.append(t.render().el)},render:function(){return this.$el.html(this.template()),this.$students=this.$el.find(".box"),this.$students.hide(),this.$tags=this.$el.find(".tag"),this.$el.find(".tag").hide(),this.$el.find(".header").addClass="white",this.$el.find(".form").addClass="white",this}});t.exports=r},{"../../../_hbs/introview.hbs":2,"../collections/BoxCollection.js":10,"../collections/ProjectCollection.js":11,"../collections/TagCollection.js":12,"./BoxItemView.js":18,"./ProjectItemView.js":23}],20:[function(e,t){var n=(e("../collections/BoxCollection.js"),e("../collections/TagCollection.js"),e("../collections/ProjectCollection.js")),i=(e("./BoxItemView.js"),e("./ProjectItemView.js")),s=e("../../../_hbs/list_overview.hbs"),o=Backbone.View.extend({template:s,tagName:"div",className:"listview",events:{"click .add":"clickAdd","click .home":"goHome","input .filter":"inputFilter"},array:[],goHome:function(){Window.Application.navigate("intro",{trigger:!0}),location.reload()},inputFilter:function(e){e.preventDefault();var t=$(e.currentTarget).val().toLowerCase();if(""!==t){{t.split(" ")}this.renderFilteredTags(this.projectcollection.filterByClient(t))}else this.$el.find(".lamp").css("width","40%"),this.$el.find(".lamp").css("margin-top","-365px"),this.$el.find(".addbox").show(),this.$el.find(".tag").hide(),this.array=[],this.projectcollection.fetch()},clickAdd:function(e){e.preventDefault(),Window.Application.navigate("overview",{trigger:!0})},initialize:function(){this.projectcollection=new n,this.listenTo(this.projectcollection,"sync",this.renderTags),this.projectcollection.fetch(),$(window).scroll(this.detect_scroll)},onlyUnique:function(e,t,n){return n.indexOf(e)===t},detect_scroll:function(){console.log("detected")},renderTags:function(){this.$tags.empty(),this.projectcollection.forEach(this.renderTag,this)},renderFilteredTags:function(e){for(var t=0;t<e.length;t++){e[t].attributes.box_name}this.$tags.empty(),e.forEach(this.renderTag,this)},renderTag:function(e){var t=new i({model:e});this.$tags.append(t.render().el)},render:function(){return this.$el.html(this.template()),this.$tags=this.$el.find(".box"),this}});t.exports=o},{"../../../_hbs/list_overview.hbs":3,"../collections/BoxCollection.js":10,"../collections/ProjectCollection.js":11,"../collections/TagCollection.js":12,"./BoxItemView.js":18,"./ProjectItemView.js":23}],21:[function(e,t){var n=e("../collections/BoxCollection.js"),i=(e("../collections/TagCollection.js"),e("../collections/ProjectCollection.js")),s=e("./BoxItemView.js"),o=e("./ProjectItemView.js"),a=e("../../../_hbs/overview.hbs"),r=Backbone.View.extend({template:a,tagName:"div",className:"overview",events:{"click .add":"clickAdd","click .home":"goHome"},array:[],goHome:function(){Window.Application.navigate("intro",{trigger:!0}),location.reload()},clickAdd:function(e){if(e.preventDefault(),""!==this.$el.find(".name").val()){var t=this.collection;this.collection.create({name:this.$el.find(".name").val()},{success:function(){var e=t.models[t.models.length-1];$.map(e.attributes,function(e,t){});var n=t.models[t.models.length-1].id;Window.Application.navigate("boxes/"+n,{trigger:!0})}}),this.$el.find(".name").val("")}},initialize:function(){this.collection=new n,this.listenTo(this.collection,"sync",this.renderStudents),this.collection.fetch(),this.projectcollection=new i,this.listenTo(this.projectcollection,"sync",this.renderTags),this.projectcollection.fetch()},onlyUnique:function(e,t,n){return n.indexOf(e)===t},renderStudents:function(){this.$students.empty(),this.collection.forEach(this.renderStudent,this)},renderFilteredStudents:function(e){this.array.push(e[0].attributes.name);for(var t=0;t<this.array.length;t++){this.$students.empty();var n=this.array[t].filter(this.onlyUnique);console.log(n)}},renderStudent:function(e){var t=new s({model:e});this.$students.append(t.render().el)},renderTags:function(){this.$tags.empty(),this.projectcollection.forEach(this.renderTag,this)},renderFilteredTags:function(e){for(var t=0;t<e.length;t++){e[t].attributes.box_name}this.$tags.empty(),e.forEach(this.renderTag,this)},renderTag:function(e){var t=new o({model:e});this.$tags.append(t.render().el)},render:function(){return this.$el.html(this.template()),this.$students=this.$el.find(".box"),this.$tags=this.$el.find(".tag"),this.$el.find(".tag").hide(),this}});t.exports=r},{"../../../_hbs/overview.hbs":4,"../collections/BoxCollection.js":10,"../collections/ProjectCollection.js":11,"../collections/TagCollection.js":12,"./BoxItemView.js":18,"./ProjectItemView.js":23}],22:[function(e,t){var n=e("../../../_hbs/project_detail.hbs"),i=e("../models/Project.js"),s=e("../collections/TagCollection.js"),o=(e("../collections/ProjectCollection.js"),e("../views/TagItemView.js")),a=Backbone.View.extend({template:n,tagName:"section",className:"dozen",events:{"click .delete":"clickDelete","click .gone":"removeFromTagsList","click .remove":"clickRemove","click .add":"clickAdd","keydown .text":"addTags","click .home":"goHome","click .gotomybox":"gotomybox"},array:[],booleancheck:!1,goHome:function(){Window.Application.navigate("intro",{trigger:!0}),location.reload()},gotomybox:function(e){e.preventDefault(),Window.Application.navigate("boxes/"+this.model.get("box_id"),{trigger:!0})},addTags:function(e){var t=$(e.currentTarget).val().toLowerCase();if(32==e.keyCode&&""!==this.$el.find(".text").val()){(" "!==t||""!==t||void 0!==t)&&this.array.push(t);var n=t.split(" ");n=n.filter(Boolean);for(var i=0;i<n.length;i++)if(" "!==n[i]){var s=document.createElement("li");s.className="item inputwrapper",s.setAttribute("id",i);var o=$(".addtags ul.inputwrap .taglist"),a=document.createElement("span"),r=document.createTextNode(n[i]);a.appendChild(r);var l=document.createElement("span");l.className="remove",s.appendChild(a),s.appendChild(l),o.append(s),this.$el.find(".text").val("")}}},clickRemove:function(e){var t=$(e.currentTarget.parentNode).attr("id"),n=this.array.join(),i=n.split(" ");allIds=document.getElementsByClassName("item inputwrapper");var s=[];i.splice(t,1),$(e.currentTarget.parentNode).remove();for(var o=0;o<allIds.length;o++)allIds[o].setAttribute("id",o),s.push(allIds[o].getElementsByTagName("span")[0].innerHTML);this.array=s},clickAdd:function(e){if(e.preventDefault(),!(""===this.$el.find(".text").val()&&0===document.getElementsByClassName("item inputwrapper").length||" "===this.$el.find(".text").val()&&0===document.getElementsByClassName("item inputwrapper").length)){var t=this.array,n=this.tag,i=this.model;if(!(""===this.$el.find(".text").val()&&0===document.getElementsByClassName("item inputwrapper").length||" "===this.$el.find(".text").val()&&0===document.getElementsByClassName("item inputwrapper").length)){" "===this.$el.find(".text").val()||""!==this.$el.find(".text").val()&&t.push($(".addtags .text").val());var s=t.join(" ");if(0!==document.getElementsByClassName("item inputwrapper").length)for(var o=0;o<t.length;o++)t[o]=t[o].replace(/\s+/g," "),n.create({box_name:i.get("box_name"),tag:t[o],project_name:i.get("name"),project_id:i.get("id"),box_id:i.get("box_id")},{success:function(){$(".item.inputwrapper").remove()}}),i.set("tags_list",i.get("tags_list")+", "+t[o])&&(i.save(),location.reload());else for(var a=s.split(" "),o=0;o<a.length;o++)a[o]=a[o].replace(/\s+/g," "),n.create({box_name:i.get("box_name"),tag:a[o],project_name:i.get("name"),project_id:i.get("id"),box_id:i.get("box_id")},{success:function(){$(".item.inputwrapper").remove(),location.reload()}}),i.set("tags_list",i.get("tags_list")+", "+a[o])&&(i.save(),location.reload())}}},changeScore:function(e){e.preventDefault(),this.model.set("name",this.$el.find(".name").val()),this.model.save()},removeFromTagsList:function(e){e.preventDefault();var t=e.currentTarget.parentNode.getElementsByTagName("p")[0].innerHTML,n=this.model.get("tags_list").replace(", "+t,"");this.model.set("tags_list",n),this.model.save()},clickDelete:function(e){e.preventDefault(),document.getElementById("popup").className="";var t=document.getElementById("popup"),n=this.model;t.getElementsByClassName("go")[0].addEventListener("click",function(e){e.preventDefault(),n.destroy(),$.ajax({type:"DELETE",url:window.settings.httpRoot+"api/tags/project/"+n.get("id"),success:function(e){}}),document.getElementById("popup").className="hidden"}),t.getElementsByClassName("no")[0].addEventListener("click",function(e){e.preventDefault(),document.getElementById("popup").className="hidden"})},initialize:function(e){e&&e.id&&(this.model=new i,this.model.on("destroy",function(){Window.Application.navigate("overview",{trigger:!0})}),this.model.set("id",e.id),this.model.fetch({success:function(e,t){0===t.length&&Window.Application.navigate("overview",{trigger:!0})}}),this.listenTo(this.model,"sync",this.render),this.tag=new s({project_id:e.id}),this.tag.on("sync",this.renderAllTags,this))},renderAllTags:function(){this.$tag.empty(),this.tag.forEach(this.renderTag,this)},renderTag:function(e){this.$tag.append(new o({model:e}).render().el)},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$tag=this.$el.find(".tagresults"),this.tag.fetch(),this}},{levenshtein_distance_a:function(e,t){if(0==e.length)return t.length;if(0==t.length)return e.length;var n,i=[];for(n=0;n<=t.length;n++)i[n]=[n];var s;for(s=0;s<=e.length;s++)i[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)i[n][s]=t.charAt(n-1)==e.charAt(s-1)?i[n-1][s-1]:Math.min(i[n-1][s-1]+1,Math.min(i[n][s-1]+1,i[n-1][s]+1));return i[t.length][e.length]}});t.exports=a},{"../../../_hbs/project_detail.hbs":5,"../collections/ProjectCollection.js":11,"../collections/TagCollection.js":12,"../models/Project.js":14,"../views/TagItemView.js":24}],23:[function(e,t){var n=e("../../../_hbs/project_item.hbs"),i=Backbone.View.extend({template:n,tagName:"li",className:"anim fadeInUp",events:{"click .delete":"clickDelete","click .tagdetail":"clickDetail","click .detail":"clickDetail","click .listdetail":"clickDetail"},clickDelete:function(e){e.preventDefault(),this.model.destroy()},clickDetail:function(e){e.preventDefault(),Window.Application.navigate("projects/"+this.model.get("id"),{trigger:!0})},initialize:function(){this.listenTo(this.model,"destroy",this.remove)},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.attr("data-wow-delay","s"),this.$el.find("a").addClass("effect-sarah"),this}});t.exports=i},{"../../../_hbs/project_item.hbs":6}],24:[function(e,t){var n=e("../../../_hbs/feedback_item.hbs"),i=Backbone.View.extend({template:n,tagName:"li",events:{"click .gone":"clickDelete"},clickDelete:function(e){var t=this.model;setTimeout(function(){e.preventDefault(),t.destroy(),location.reload()},100)},initialize:function(){},render:function(){return this.$el.html(this.template(this.model.attributes)),this}});t.exports=i},{"../../../_hbs/feedback_item.hbs":1}],25:[function(e,t,n){"use strict";function i(){var e=new a.HandlebarsEnvironment;return u.extend(e,a),e.SafeString=l["default"],e.Exception=d["default"],e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=f,e.template=function(t){return f.template(t,e)},e}var s=function(e){return e&&e.__esModule?e:{"default":e}};n.__esModule=!0;var o=e("./handlebars/base"),a=s(o),r=e("./handlebars/safe-string"),l=s(r),c=e("./handlebars/exception"),d=s(c),h=e("./handlebars/utils"),u=s(h),p=e("./handlebars/runtime"),f=s(p),m=e("./handlebars/no-conflict"),g=s(m),v=i();v.create=i,g["default"](v),v["default"]=v,n["default"]=v,t.exports=n["default"]},{"./handlebars/base":26,"./handlebars/exception":27,"./handlebars/no-conflict":28,"./handlebars/runtime":29,"./handlebars/safe-string":30,"./handlebars/utils":31}],26:[function(e,t,n){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},s(this)}function s(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new d["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||null==t)return i(this);if(f(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=o(n.data);a.contextPath=l.appendContextPath(n.data.contextPath,n.name),n={data:a}}return s(t,n)}),e.registerHelper("each",function(e,t){function n(t,n,s){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!s,h&&(c.contextPath=h+t)),r+=i(e[t],{data:c,blockParams:l.blockParams([e[t],t],[h+t,null])})}if(!t)throw new d["default"]("Must pass iterator to #each");var i=t.fn,s=t.inverse,a=0,r="",c=void 0,h=void 0;if(t.data&&t.ids&&(h=l.appendContextPath(t.data.contextPath,t.ids[0])+"."),m(e)&&(e=e.call(this)),t.data&&(c=o(t.data)),e&&"object"==typeof e)if(f(e))for(var u=e.length;u>a;a++)n(a,a,a===e.length-1);else{var p=void 0;for(var g in e)e.hasOwnProperty(g)&&(p&&n(p,a-1),p=g,a++);p&&n(p,a-1,!0)}return 0===a&&(r=s(this)),r
}),e.registerHelper("if",function(e,t){return m(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||l.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){m(e)&&(e=e.call(this));var n=t.fn;if(l.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=o(t.data);i.contextPath=l.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function o(e){var t=l.extend({},e);return t._parent=e,t}var a=function(e){return e&&e.__esModule?e:{"default":e}};n.__esModule=!0,n.HandlebarsEnvironment=i,n.createFrame=o;var r=e("./utils"),l=a(r),c=e("./exception"),d=a(c),h="3.0.1";n.VERSION=h;var u=6;n.COMPILER_REVISION=u;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=p;var f=l.isArray,m=l.isFunction,g=l.toString,v="[object Object]";i.prototype={constructor:i,logger:w,log:b,registerHelper:function(e,t){if(g.call(e)===v){if(t)throw new d["default"]("Arg not supported with multiple helpers");l.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(g.call(e)===v)l.extend(this.partials,e);else{if("undefined"==typeof t)throw new d["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var w={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&w.level<=e){var n=w.methodMap[e];(console[n]||console.log).call(console,t)}}};n.logger=w;var b=w.log;n.log=b},{"./exception":27,"./utils":31}],27:[function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,e+=" - "+o+":"+a);for(var r=Error.prototype.constructor.call(this,e),l=0;l<s.length;l++)this[s[l]]=r[s[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),n&&(this.lineNumber=o,this.column=a)}n.__esModule=!0;var s=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,n["default"]=i,t.exports=n["default"]},{}],28:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n["default"]=function(t){var n="undefined"!=typeof e?e:window,i=n.Handlebars;t.noConflict=function(){n.Handlebars===t&&(n.Handlebars=i)}},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=m.COMPILER_REVISION;if(t!==n){if(n>t){var i=m.REVISION_CHANGES[n],s=m.REVISION_CHANGES[t];throw new f["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new f["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){function n(n,i,s){s.hash&&(i=u.extend({},i,s.hash)),n=t.VM.resolvePartial.call(this,n,i,s);var o=t.VM.invokePartial.call(this,n,i,s);if(null==o&&t.compile&&(s.partials[s.name]=t.compile(n,e.compilerOptions,t),o=s.partials[s.name](i,s)),null!=o){if(s.indent){for(var a=o.split("\n"),r=0,l=a.length;l>r&&(a[r]||r+1!==l);r++)a[r]=s.indent+a[r];o=a.join("\n")}return o}throw new f["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function i(t){var n=void 0===arguments[1]?{}:arguments[1],o=n.data;i._setup(n),!n.partial&&e.useData&&(o=c(t,o));var a=void 0,r=e.useBlockParams?[]:void 0;return e.useDepths&&(a=n.depths?[t].concat(n.depths):[t]),e.main.call(s,t,s.helpers,s.partials,o,r,a)}if(!t)throw new f["default"]("No environment passed to template");if(!e||!e.main)throw new f["default"]("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var s={strict:function(e,t){if(!(t in e))throw new f["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n,i,s){var a=this.programs[e],r=this.fn(e);return t||s||i||n?a=o(this,e,r,t,n,i,s):a||(a=this.programs[e]=o(this,e,r)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=u.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(s.helpers=n.helpers,s.partials=n.partials):(s.helpers=s.merge(n.helpers,t.helpers),e.usePartial&&(s.partials=s.merge(n.partials,t.partials)))},i._child=function(t,n,i,a){if(e.useBlockParams&&!i)throw new f["default"]("must pass block params");if(e.useDepths&&!a)throw new f["default"]("must pass parent depths");return o(s,t,e[t],n,0,i,a)},i}function o(e,t,n,i,s,o,a){function r(t){var s=void 0===arguments[1]?{}:arguments[1];return n.call(e,t,e.helpers,e.partials,s.data||i,o&&[s.blockParams].concat(o),a&&[t].concat(a))}return r.program=t,r.depth=a?a.length:0,r.blockParams=s||0,r}function a(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e}function r(e,t,n){if(n.partial=!0,void 0===e)throw new f["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?m.createFrame(t):{},t.root=e),t}var d=function(e){return e&&e.__esModule?e:{"default":e}};n.__esModule=!0,n.checkRevision=i,n.template=s,n.wrapProgram=o,n.resolvePartial=a,n.invokePartial=r,n.noop=l;var h=e("./utils"),u=d(h),p=e("./exception"),f=d(p),m=e("./base")},{"./base":26,"./exception":27,"./utils":31}],30:[function(e,t,n){"use strict";function i(e){this.string=e}n.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},n["default"]=i,t.exports=n["default"]},{}],31:[function(e,t,n){"use strict";function i(e){return d[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return u.test(e)?e.replace(h,i):e}function r(e){return e||0===e?m(e)&&0===e.length?!0:!1:!0}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}n.__esModule=!0,n.extend=s,n.indexOf=o,n.escapeExpression=a,n.isEmpty=r,n.blockParams=l,n.appendContextPath=c;var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,u=/[&<>"'`]/,p=Object.prototype.toString;n.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(n.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)});var f;n.isFunction=f;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};n.isArray=m},{}],32:[function(e,t){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":25}],33:[function(e,t){t.exports=e("handlebars/runtime")["default"]},{"handlebars/runtime":32}]},{},[9]);
//# sourceMappingURL=app.js.map